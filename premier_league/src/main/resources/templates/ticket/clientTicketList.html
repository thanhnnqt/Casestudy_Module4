<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Vé của tôi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #e8f0fe;
            font-family: 'Segoe UI', sans-serif;
        }

        .ticket-card {
            max-width: 900px;
            margin: 40px auto;
            background: #fff;
            padding: 24px;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        .ticket-item {
            border-bottom: 1px solid #e0e0e0;
            padding: 20px 0;
        }

        .ticket-item:last-child {
            border-bottom: none;
        }

        .match-title {
            font-weight: 700;
            color: #0d47a1;
        }

        .badge-status {
            font-size: 0.75rem;
            padding: 6px 14px;
            border-radius: 8px;
        }

        /* Chống tràn danh sách ghế */
        .seat-list {
            display: inline-block;
            max-width: 100%;
            white-space: normal;
            overflow-wrap: anywhere;
            word-break: break-word;
        }
    </style>
</head>
<body>
<div class="ticket-card">
    <h4 class="text-center mb-3">Danh sách vé đã đặt</h4>
    <p class="text-muted text-center mb-4">
        Bạn đang có <strong th:text="${ticketCount}">0</strong> vé đã đặt.
    </p>

    <div th:if="${#lists.isEmpty(tickets)}" class="text-center text-muted">
        Hiện tại bạn chưa đặt vé nào.
    </div>

    <div th:each="t : ${tickets}" class="ticket-item">

        <!-- Row 2 cột: trái = nội dung, phải = badge -->
        <div class="row align-items-start">

            <!-- Cột trái -->
            <div class="col-md-10">
                <div class="match-title"
                     th:text="${t.homeTeam} + ' vs ' + ${t.awayTeam}">
                    Home vs Away
                </div>

                <div class="text-muted small">
                    <span th:text="${t.stadium}">Stadium</span> ·
                    <span th:text="${t.address}">Address</span>
                </div>

                <div class="small mt-1">
                    Ngày: <span th:text="${t.dateMatch}"></span> -
                    Giờ: <span th:text="${t.timeMatch}"></span> |
                    Khu: <span th:text="${t.standSession}"></span> |
                    Ghế:
                    <span class="seat-list" th:text="${t.seatNumber}"></span>
                </div>

                <div class="small mt-1">
                    Số lượng: <strong th:text="${t.quantity}"></strong> ·
                    Tổng tiền:
                    <strong class="text-danger"
                            th:text="${#numbers.formatInteger(t.totalPay,3,'COMMA')}"></strong> đ
                </div>
            </div>

            <!-- Cột phải: PAID -->
            <div class="col-md-2 text-md-end text-start mt-2 mt-md-0">
                <span class="badge bg-success badge-status"
                      th:text="${t.status}">
                    PAID
                </span>
            </div>
        </div>
    </div>
</div>
</body>
</html>
