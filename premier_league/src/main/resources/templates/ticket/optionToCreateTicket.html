<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout('Tạo vé trận đấu', 'dashboard', ~{::content})">

<th:block th:fragment="content">

    <style>
        :root {
            --pl-bg-card: #23152F; /* nền card */
            --pl-purple-soft: #E5D9FF; /* chữ tím nhạt mềm */
            --pl-green: #3AFF6E; /* xanh rêu neon */
            --pl-green-dark: #26C456; /* xanh đậm hơn chút */
            --pl-green-soft: #B8FFCC; /* xanh nhạt highlight */
        }

        /* Tiêu đề trang */
        .page-title {
            text-align: center; font-size: 1.8rem; font-weight: 800;
            margin-top: 10px; margin-bottom: 8px; letter-spacing: 0.04em;
            text-transform: uppercase; color: #38003c; /* Đổi sang màu tím để nổi trên nền trắng của layout */
        }

        .page-subtitle {
            text-align: center; color: #6c757d; margin-bottom: 32px; font-size: 0.95rem;
        }

        /* Thanh nút trên cùng */
        .top-link-wrap {
            display: flex; justify-content: flex-end; margin-bottom: 20px;
        }

        .top-link-btn {
            border-radius: 999px; padding: 8px 20px; font-size: 0.9rem;
            border: 1px solid #38003c; background: white;
            color: #38003c; text-decoration: none; display: inline-flex; align-items: center; gap: 8px;
            letter-spacing: 0.03em; text-transform: uppercase; font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }

        .top-link-btn:hover {
            background: #38003c; color: white; transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(56, 0, 60, 0.3);
        }

        /* Card trận đấu */
        .match-card {
            background: linear-gradient(135deg, #2a1a38 0%, #120916 100%);
            border-radius: 18px; padding: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            position: relative; overflow: hidden;
            transition: transform 0.22s ease, box-shadow 0.22s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .match-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
        }

        /* Tên trận đấu */
        .match-name {
            font-size: 1.2rem; font-weight: 700; color: #ffffff; margin-bottom: 10px;
        }

        /* Vòng đấu */
        .match-round-badge {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 5px 14px; border-radius: 999px;
            background: rgba(58, 255, 110, 0.15);
            color: var(--pl-green); font-weight: 600; font-size: 0.85rem;
            margin-bottom: 15px;
        }

        .round-dot {
            width: 6px; height: 6px; border-radius: 50%; background: var(--pl-green);
            box-shadow: 0 0 8px var(--pl-green);
        }

        /* Ngày thi đấu */
        .match-date {
            font-size: 0.9rem; border-radius: 8px; padding: 8px 12px;
            display: inline-flex; align-items: center; gap: 8px;
            color: #e5e7eb; background: rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        /* Nút chọn trận đấu */
        .select-btn {
            border-radius: 999px; padding: 10px 24px; border: none;
            font-weight: 700; letter-spacing: 0.03em; text-transform: uppercase;
            display: inline-flex; align-items: center; justify-content: center; gap: 8px;
            background-image: linear-gradient(135deg, var(--pl-green), var(--pl-green-dark));
            color: #020617; box-shadow: 0 4px 12px rgba(58, 255, 110, 0.4);
            transition: all 0.2s ease; text-decoration: none !important; width: 100%;
        }

        .select-btn:hover {
            transform: translateY(-2px); filter: brightness(1.1);
            box-shadow: 0 6px 16px rgba(58, 255, 110, 0.6); color: #000 !important;
        }
    </style>

    <div class="container-fluid">

        <div class="top-link-wrap">
            <a th:href="@{/owner/tickets/__${teamId}__}" class="top-link-btn">
                <i class="bi bi-card-list"></i> <span>Xem danh sách vé</span>
            </a>
        </div>

        <div class="text-center mb-5">
            <h3 th:if="${matchScheduleListToShow}" class="page-title">Chọn Trận Đấu</h3>
            <p th:if="${matchScheduleListToShow}" class="page-subtitle">Chọn trận đấu sắp tới để mở bán vé cho người hâm mộ.</p>

            <div th:if="${mess}" class="alert alert-info d-inline-block px-4 py-2 rounded-pill shadow-sm border-0">
                <i class="bi bi-info-circle-fill me-2"></i><span th:text="${mess}"></span>
            </div>
        </div>

        <div th:if="${matchScheduleListToShow}" class="row g-4 justify-content-center">

            <div class="col-sm-10 col-md-6 col-lg-4 col-xl-3" th:each="match : ${matchScheduleListToShow}">
                <div class="match-card h-100 d-flex flex-column">
                    <div class="text-center flex-grow-1">

                        <div class="match-round-badge">
                            <span class="round-dot"></span>
                            <span>Vòng <span th:text="${match.round}"></span></span>
                        </div>

                        <h5 class="match-name" th:text="${match.name}">Arsenal vs Chelsea</h5>

                        <div class="match-date">
                            <i class="bi bi-calendar-event"></i>
                            <span th:text="${match.matchDate}"></span>
                        </div>
                    </div>

                    <div class="mt-3">
                        <a th:href="@{/owner/tickets/__${teamId}__/createTicket/__${match.id}__}" class="select-btn">
                            <span>Tạo Vé Ngay</span>
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div th:if="${#lists.isEmpty(matchScheduleListToShow)}" class="text-center py-5 text-muted">
                <i class="bi bi-calendar-x display-1 d-block mb-3 opacity-25"></i>
                <h4>Chưa có lịch thi đấu phù hợp.</h4>
                <p>Vui lòng quay lại sau khi lịch thi đấu được cập nhật.</p>
            </div>

        </div>
    </div>

</th:block>
</html>