<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout('Chi tiết nhân viên', 'staffs', ~{::content})">

<th:block th:fragment="content">

  <div class="container mt-4">
    <h2 class="mb-4 text-uppercase fw-bold" style="letter-spacing: 1px;">Thông tin chi tiết</h2>

    <div class="row">
      <div class="col-md-4">
        <div class="card mb-3 shadow-sm">
          <img class="card-img-top"
               th:src="${staff.avatarUrl}"
               alt="avatar"
               style="max-height: 400px; object-fit: cover;"
               onerror="this.src='https://via.placeholder.com/400x400?text=No+Image';">
        </div>
      </div>

      <div class="col-md-8">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h3 class="mb-0 text-primary" th:text="${staff.fullName}">Tên nhân viên</h3>

          <div>
            <a th:href="@{'/admin/staffs/update/' + ${staff.id}}" class="btn btn-primary">
              <i class="bi bi-pencil"></i> Sửa
            </a>

            <form th:action="@{/admin/staffs/delete/{id}(id=${staff.id})}" method="post" style="display:inline;">
              <button type="submit" class="btn btn-danger"
                      onclick="return confirm('Hành động này không thể hoàn tác. Bạn chắc chứ?')">
                <i class="bi bi-trash"></i> Xóa
              </button>
            </form>
          </div>
        </div>

        <hr>

        <div class="row g-3">
          <div class="col-md-6">
            <p><strong>Ngày sinh: </strong> <span th:text="${staff.dateOfBirth}"></span></p>
            <p><strong>Giới tính: </strong> <span th:text="${staff.gender}"></span></p>
            <p><strong>Quốc tịch: </strong> <span th:text="${staff.nationality}"></span></p>
            <p><strong>Ngày gia nhập: </strong> <span th:text="${staff.joinDate}"></span></p>
          </div>

          <div class="col-md-6">
            <p><strong>Vị trí: </strong> <span th:text="${staff.position}"></span></p>
            <p><strong>Vai trò: </strong> <span th:text="${staff.role}"></span></p>
            <p><strong>Đội bóng: </strong>
              <span class="badge bg-info text-dark" th:text="${staff.team != null ? staff.team.name : 'Chưa gán'}"></span>
            </p>
            <p><strong>Trạng thái: </strong>
              <span th:class="${staff.status == 'Active' ? 'badge bg-success' : 'badge bg-secondary'}"
                    th:text="${staff.status}"></span>
            </p>
          </div>
        </div>

        <hr>

        <div class="row">
          <div class="col-md-6">
            <p><strong>Số điện thoại: </strong> <span th:text="${staff.phoneNumber}"></span></p>
          </div>
          <div class="col-md-6">
            <p><strong>Email: </strong> <span th:text="${staff.email}"></span></p>
          </div>
        </div>

        <div class="mt-4">
          <a href="/admin/staffs" class="btn btn-secondary">Quay lại danh sách</a>
        </div>
      </div>
    </div>
  </div>

</th:block>
</html>