<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout('Cập nhật nhân viên', 'staffs', ~{::content})">

<th:block th:fragment="content">
    <div class="container mt-4">
        <h2 class="text-center mb-4">Cập nhật thông tin nhân viên</h2>

        <!-- FORM CẬP NHẬT -->
        <form th:object="${staffDto}"
              th:action="@{'/admin/staffs/' + ${staffDto.id} + '/edit'}"
              method="post"
              class="card p-4 shadow">

            <!-- ID + TEAM ẨN -->
            <input type="hidden" th:field="*{id}">
            <!-- Nếu StaffDto có teamId thì giữ lại -->
            <input type="hidden" th:field="*{teamId}"/>

            <div class="row">
                <!-- CỘT TRÁI -->
                <div class="col-md-6">
                    <!-- Họ tên -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Họ và tên</label>
                        <input type="text" class="form-control" th:field="*{fullName}">
                        <div class="text-danger" th:if="${#fields.hasErrors('fullName')}"
                             th:errors="*{fullName}"></div>
                    </div>

                    <!-- Ngày sinh -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Ngày sinh</label>
                        <input type="date" class="form-control" th:field="*{dateOfBirth}">
                        <div class="text-danger" th:if="${#fields.hasErrors('dateOfBirth')}"
                             th:errors="*{dateOfBirth}"></div>
                    </div>

                    <!-- Giới tính -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Giới tính</label>
                        <select class="form-select" th:field="*{gender}">
                            <option value="Male">Nam</option>
                            <option value="Female">Nữ</option>
                            <option value="Other">Khác</option>
                        </select>
                    </div>

                    <!-- Quốc tịch -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Quốc tịch</label>
                        <input type="text" class="form-control" th:field="*{nationality}">
                    </div>

                    <!-- SĐT -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Số điện thoại</label>
                        <input type="text" class="form-control" th:field="*{phoneNumber}">
                    </div>
                </div>

                <!-- CỘT PHẢI -->
                <div class="col-md-6">
                    <!-- Vị trí -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Vị trí</label>
                        <input type="text" class="form-control" th:field="*{position}">
                    </div>

                    <!-- Vai trò -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Vai trò</label>
                        <input type="text" class="form-control" th:field="*{role}">
                    </div>

                    <!-- Ngày gia nhập -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Ngày gia nhập</label>
                        <input type="date" class="form-control" th:field="*{joinDate}">
                        <div class="text-danger" th:if="${#fields.hasErrors('joinDate')}"
                             th:errors="*{joinDate}"></div>
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Email</label>
                        <input type="email" class="form-control" th:field="*{email}">
                    </div>

                    <!-- Trạng thái -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">Trạng thái</label>
                        <select class="form-select" th:field="*{status}">
                            <option value="Active">Đang làm việc</option>
                            <option value="Inactive">Nghỉ</option>
                            <option value="On Loan">Cho mượn</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Avatar -->
            <div class="mb-3">
                <label class="form-label fw-bold">Link ảnh đại diện</label>
                <input type="text" class="form-control" th:field="*{avatarUrl}">
            </div>

            <!-- NÚT -->
            <div class="d-flex justify-content-between mt-3">
                <a href="/admin/staffs" class="btn btn-secondary">Quay lại</a>
                <button type="submit" class="btn btn-success px-4">Cập nhật</button>
            </div>
        </form>
    </div>
</th:block>
</html>
