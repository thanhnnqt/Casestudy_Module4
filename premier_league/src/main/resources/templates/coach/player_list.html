<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{coach/dashboard :: coachLayout(
                      pageTitle='Danh sách cầu thủ',
                      activePage='players',
                      content=~{::.main-content-child}
                  )}">
<head>
    <meta charset="UTF-8">
    <title>Danh sách cầu thủ</title>
    <style>
        .position-group-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #0d6efd; /* Bootstrap primary */
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .position-group-title:first-of-type {
            margin-top: 0;
        }
        /* Custom badge colors */
        .badge-pos {
            font-size: 0.9rem;
            min-width: 45px;
            text-align: center;
            color: white !important;
            padding: 0.4em 0.6em;
        }
        .badge-pos-GK { background-color: #f0ad4e !important; }
        .badge-pos-DF { background-color: #5cb85c !important; }
        .badge-pos-MF { background-color: #0275d8 !important; }
        .badge-pos-FW { background-color: #d9534f !important; }
        .badge-pos-OTHER { background-color: #6c757d !important; }
    </style>
</head>
<body>

<div class="main-content-child">
    <h1 class="mb-4">Danh sách cầu thủ</h1>

    <div th:if="${playersByPosition == null || playersByPosition.isEmpty()}" class="alert alert-info">
        Đội bóng chưa có cầu thủ nào.
    </div>

    <div th:each="entry : ${playersByPosition}" class="position-group">

        <h3 class="position-group-title"
            th:text="${entry.key == 'GK' ? 'Thủ môn (GK)' :
                       (entry.key == 'DF' ? 'Hậu vệ (DF)' :
                       (entry.key == 'MF' ? 'Tiền vệ (MF)' :
                       (entry.key == 'FW' ? 'Tiền đạo (FW)' : 'Khác (' + entry.key + ')')))}">
            Vị trí
        </h3>

        <table class="table table-striped table-hover table-bordered bg-white align-middle">
            <thead class="table-dark">
            <tr>
                <th style="width: 10%;">ID</th>
                <th>Tên</th>
                <th style="width: 20%;">Ngày sinh (DOB)</th>
                <th style="width: 15%;">Vị trí</th>
                <th style="width: 20%;">Kinh nghiệm</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="player : ${entry.value}">
                <td th:text="${player.id}"></td>
                <td th:text="${player.name}"></td>
                <td th:text="${player.dob}"></td>
                <td>
                    <span class="badge badge-pos"
                          th:classappend="${player.position == 'GK' ? 'badge-pos-GK' :
                                           (player.position == 'DF' ? 'badge-pos-DF' :
                                           (player.position == 'MF' ? 'badge-pos-MF' :
                                           (player.position == 'FW' ? 'badge-pos-FW' : 'badge-pos-OTHER')))}"
                          th:text="${player.position}">
                    </span>
                </td>
                <td th:text="${player.experience}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>