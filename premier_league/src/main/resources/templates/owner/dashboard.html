<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout('Dashboard chủ đội bóng', 'dashboard', ~{::content})">
<th:block th:fragment="content">

  <style>
    .kpi-card {
      border-radius: 1rem;
      padding: 1.2rem 1.3rem;
      color: #fff;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s;
    }
    .kpi-card:hover { transform: translateY(-5px); }
    .kpi-card .icon { font-size: 1.6rem; opacity: 0.9; position: absolute; right: 1.2rem; top: 1.2rem;}
    .kpi-card small { font-size: .8rem; opacity: .9; }
    .kpi-card .value { font-size: 1.6rem; font-weight: 700; margin-top: 5px; }
    .kpi-card .trend { font-size: .8rem; }

    .bg-gradient-blue { background: linear-gradient(135deg,#3b82f6,#2563eb); }
    .bg-gradient-green { background: linear-gradient(135deg,#22c55e,#16a34a); }
    .bg-gradient-purple { background: linear-gradient(135deg,#8b5cf6,#6366f1); }
    .bg-gradient-pink { background: linear-gradient(135deg,#ec4899,#f97316); }

    .card { border-radius: 1rem; border: none; box-shadow: 0 2px 10px rgba(0,0,0,0.03); }

    .chart-placeholder {
      height: 220px;
      border-radius: .75rem;
      background: repeating-linear-gradient(-45deg, #f8f9fa, #f8f9fa 6px, #e9ecef 6px, #e9ecef 12px);
      display: flex; align-items: center; justify-content: center;
      color: #6c757d; font-style: italic;
    }

    .pill {
      display: inline-flex; align-items: center; gap: .25rem;
      padding: .25rem .6rem; border-radius: 999px; font-size: .75rem;
      background: #eef2ff; color: #4f46e5;
    }
  </style>

  <div class="row g-4 mb-4">
    <div class="col-md-3 col-sm-6">
      <div class="kpi-card bg-gradient-blue">
        <small>Tổng số cầu thủ</small>
        <div class="value" th:text="${totalPlayers ?: '28'}">28</div>
        <div class="trend mt-2"><i class="bi bi-arrow-up-short"></i> +2 so với mùa trước</div>
        <div class="icon"><i class="bi bi-people-fill"></i></div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="kpi-card bg-gradient-green">
        <small>Điểm hiện tại</small>
        <div class="value" th:text="${currentPoints ?: '63'}">63</div>
        <div class="trend mt-2 text-white-50">Top 2 trên BXH</div>
        <div class="icon"><i class="bi bi-trophy-fill"></i></div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="kpi-card bg-gradient-purple">
        <small>Tỷ lệ thắng</small>
        <div class="value">71%</div>
        <div class="trend mt-2"><i class="bi bi-arrow-up-short"></i> +5% phong độ</div>
        <div class="icon"><i class="bi bi-graph-up-arrow"></i></div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="kpi-card bg-gradient-pink">
        <small>Giá trị đội hình</small>
        <div class="value">€890M</div>
        <div class="trend mt-2 text-white-75">Transfermarkt ước tính</div>
        <div class="icon"><i class="bi bi-cash-coin"></i></div>
      </div>
    </div>
  </div>

  <div class="row g-4 mb-4">
    <div class="col-lg-8">
      <div class="card p-4 h-100">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div>
            <h6 class="mb-0 fw-bold">Phong độ 10 trận gần nhất</h6>
            <small class="text-muted">Thống kê thắng thua</small>
          </div>
          <span class="pill"><i class="bi bi-lightning-charge-fill"></i> Live Data</span>
        </div>
        <div class="chart-placeholder">
          [Biểu đồ phong độ sẽ hiển thị ở đây]
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card p-4 mb-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h6 class="mb-0 fw-bold">Trận đấu tiếp theo</h6>
          <span class="badge bg-primary-subtle text-primary rounded-pill">Premier League</span>
        </div>
        <div class="d-flex align-items-center gap-3">
          <div class="text-center bg-light rounded p-2">
            <div class="fw-bold fs-5 text-danger">SAT</div>
            <div class="text-muted small" style="font-size: 0.7rem;">23 MAR</div>
          </div>
          <div class="flex-grow-1 border-start ps-3">
            <div class="fw-bold">Arsenal vs Man City</div>
            <div class="small text-muted"><i class="bi bi-geo-alt-fill"></i> Emirates Stadium</div>
            <div class="small text-primary fw-bold mt-1">19:30 (GMT+7)</div>
          </div>
        </div>
        <hr class="my-3 opacity-10">
        <div class="d-flex justify-content-between small text-muted">
          <span><i class="bi bi-activity"></i> Sẵn sàng: <strong class="text-success">96%</strong></span>
          <span><i class="bi bi-bandaid"></i> Chấn thương: <strong>2</strong></span>
        </div>
      </div>

      <div class="card p-4">
        <h6 class="mb-3 fw-bold">Việc cần làm ưu tiên</h6>
        <ul class="list-unstyled small mb-0 d-flex flex-column gap-2">
          <li class="d-flex gap-2 align-items-start">
            <i class="bi bi-check-circle-fill text-success mt-1"></i>
            <span>Gia hạn hợp đồng với <strong>Bukayo Saka</strong></span>
          </li>
          <li class="d-flex gap-2 align-items-start">
            <i class="bi bi-exclamation-circle-fill text-warning mt-1"></i>
            <span>Đàm phán lương tân binh mùa hè</span>
          </li>
          <li class="d-flex gap-2 align-items-start">
            <i class="bi bi-clock-fill text-primary mt-1"></i>
            <span>Duyệt ngân sách chuyển nhượng Q2</span>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row g-4">
    <div class="col-md-4">
      <div class="card p-4 h-100">
        <h6 class="fw-bold mb-3">Tình hình y tế</h6>
        <div class="d-flex justify-content-between small mb-2">
          <span class="text-muted">Ca chấn thương</span><strong>3</strong>
        </div>
        <div class="d-flex justify-content-between small mb-3">
          <span class="text-muted">Hồi phục trung bình</span><strong>12 ngày</strong>
        </div>
        <div class="progress" style="height: 6px;">
          <div class="progress-bar bg-danger" style="width: 18%;"></div>
        </div>
        <small class="text-muted d-block mt-2 fst-italic">18% đội hình đang điều trị</small>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card p-4 h-100">
        <h6 class="fw-bold mb-3">Tài chính sơ bộ</h6>
        <div class="d-flex justify-content-between small mb-2">
          <span class="text-muted">Doanh thu</span><strong>€420M</strong>
        </div>
        <div class="d-flex justify-content-between small mb-2">
          <span class="text-muted">Quỹ lương</span><strong>€210M</strong>
        </div>
        <hr class="my-2">
        <div class="d-flex justify-content-between small">
          <span class="text-muted">Còn lại</span><strong class="text-success">€95M</strong>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card p-4 h-100">
        <h6 class="fw-bold mb-3">Phòng thay đồ</h6>
        <div class="d-flex justify-content-between small mb-2">
          <span class="text-muted">Chỉ số hài lòng</span><strong>8.7 / 10</strong>
        </div>
        <div class="d-flex justify-content-between small mb-3">
          <span class="text-muted">Xung đột nội bộ</span><strong class="text-success">Không</strong>
        </div>
        <div class="alert alert-success py-2 px-3 small mb-0 border-0">
          <i class="bi bi-check2-all"></i> Tinh thần toàn đội đang rất tốt.
        </div>
      </div>
    </div>
  </div>

</th:block>
</html>